"use strict";exports.id=495,exports.ids=[495],exports.modules={10990:(a,b,c)=>{c.d(b,{A:()=>B});var d=c(60687),e=c(43210),f=c.n(e),g=c(16189),h=c(85814),i=c.n(h),j=c(35390),k=c(12254);let l=()=>{let a=(0,g.usePathname)();return(0,d.jsx)("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:(0,d.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,d.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,d.jsx)("div",{className:"flex items-center",children:(0,d.jsx)(i(),{href:"/",className:"flex items-center",children:(0,d.jsx)(k.A,{})})}),(0,d.jsxs)("nav",{className:"hidden md:flex items-center gap-6",children:[(0,d.jsx)(i(),{href:"/",className:`text-sm font-medium transition-colors ${"/"===a?"text-care-teal":"text-care-purple hover:text-care-teal"}`,children:"In\xedcio"}),(0,d.jsx)(i(),{href:"/#sobre",className:"text-sm font-medium text-care-purple hover:text-care-teal transition-colors",children:"Sobre"}),(0,d.jsx)(i(),{href:"/#servicos",className:"text-sm font-medium text-care-purple hover:text-care-teal transition-colors",children:"Servi\xe7os"}),(0,d.jsx)(i(),{href:"/#contato",className:"text-sm font-medium text-care-purple hover:text-care-teal transition-colors",children:"Contato"})]}),(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)(i(),{href:"/login",children:(0,d.jsx)(j.$,{variant:"outline",className:`border-care-teal text-care-teal hover:bg-care-teal/10 ${"/login"===a?"bg-care-teal/10":""}`,children:"Login"})}),(0,d.jsx)(i(),{href:"/signup",children:(0,d.jsx)(j.$,{className:`bg-care-teal hover:bg-care-dark-teal ${"/signup"===a?"bg-care-dark-teal":""}`,children:"Cadastro"})})]})]})})})};var m=c(32192),n=c(56981),o=c(40228),p=c(48340),q=c(97051),r=c(58869),s=c(40083),t=c(11860),u=c(12941),v=c(52581),w=c(51060);let x=()=>{let a=(0,g.useRouter)(),b=(0,g.usePathname)(),[c,f]=(0,e.useState)(null),[h,l]=(0,e.useState)(!1),[x,y]=(0,e.useState)(!0);(0,e.useEffect)(()=>{(async()=>{let b=localStorage.getItem("authToken"),c=localStorage.getItem("userId");if(!b||!c)return a.push("/login");try{y(!0);let a=await w.A.get(`/api/users/${c}`,{headers:{Authorization:`Bearer ${b}`,"Content-Type":"application/json"}});f({token:b,info:{firstName:a.data.userFirstName}})}catch(b){console.error("Erro ao buscar dados do usu\xe1rio:",b),localStorage.removeItem("authToken"),localStorage.removeItem("userId"),v.oR.error("Sess\xe3o expirada. Por favor, fa\xe7a login novamente."),a.push("/login")}finally{y(!1)}})()},[a]);let z=async()=>{try{localStorage.removeItem("authToken"),localStorage.removeItem("userId"),f(null),v.oR.success("Logout realizado com sucesso!"),setTimeout(()=>{a.push("/"),window.location.href="/"})}catch(b){console.error("Erro durante logout:",b),a.push("/"),window.location.href="/"}},A=[{href:"/dashboard",label:"In\xedcio",icon:m.A,isActive:"/dashboard"===b},{href:"/dashboard/medications",label:"Medicamentos",icon:n.A,isActive:"/dashboard/medications"===b},{href:"/dashboard/appointments",label:"Consultas",icon:o.A,isActive:"/dashboard/appointments"===b},{href:"/dashboard/emergency-contacts",label:"Contatos",icon:p.A,isActive:"/dashboard/emergency-contacts"===b}];return x?(0,d.jsx)("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50 shadow-sm",children:(0,d.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,d.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)(i(),{href:"/dashboard",className:"flex items-center",children:(0,d.jsx)(k.A,{})}),(0,d.jsx)("div",{className:"hidden sm:block",children:(0,d.jsx)("div",{className:"h-4 w-24 bg-gray-200 rounded animate-pulse"})})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"h-8 w-8 bg-gray-200 rounded animate-pulse"}),(0,d.jsx)("div",{className:"h-8 w-8 bg-gray-200 rounded animate-pulse"}),(0,d.jsx)("div",{className:"h-8 w-16 bg-gray-200 rounded animate-pulse"})]})]})})}):c?.token?(0,d.jsx)("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50 shadow-sm",children:(0,d.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,d.jsxs)("div",{className:"flex items-center gap-4",children:[(0,d.jsx)(i(),{href:"/dashboard",className:"flex items-center",children:(0,d.jsx)(k.A,{})}),(0,d.jsx)("div",{className:"hidden sm:block",children:(0,d.jsxs)("span",{className:"text-sm text-care-purple",children:["Ol\xe1, ",(0,d.jsx)("span",{className:"font-medium text-care-purple",children:c.info.firstName})]})})]}),(0,d.jsx)("nav",{className:"hidden lg:flex items-center gap-6",children:A.map(a=>{let b=a.icon;return(0,d.jsxs)(i(),{href:a.href,className:`flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${a.isActive?"bg-care-teal/10 text-care-teal":"text-care-purple hover:text-care-teal hover:bg-care-teal/5"}`,children:[(0,d.jsx)(b,{className:"h-4 w-4"}),a.label]},a.href)})}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(i(),{href:"/dashboard/notifications",children:(0,d.jsx)(j.$,{variant:"ghost",size:"icon","aria-label":"Notifica\xe7\xf5es",className:"rounded-full bg-care-purple hover:bg-care-light-purple",children:(0,d.jsx)(q.A,{className:"h-5 w-5 text-white"})})}),(0,d.jsx)(i(),{href:"/dashboard/profile",children:(0,d.jsx)(j.$,{variant:"ghost",size:"icon",className:"rounded-full bg-care-purple hover:bg-care-light-purple","aria-label":"Perfil",children:(0,d.jsx)(r.A,{className:"h-5 w-5 text-white"})})}),(0,d.jsxs)(j.$,{variant:"ghost",onClick:z,className:"hidden sm:flex text-care-purple hover:text-care-light-purple hover:bg-white",children:[(0,d.jsx)(s.A,{className:"h-4 w-4 mr-2"}),"Sair"]}),(0,d.jsx)(j.$,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>l(!h),"aria-label":"Menu",children:h?(0,d.jsx)(t.A,{className:"h-5 w-5"}):(0,d.jsx)(u.A,{className:"h-5 w-5"})})]})]}),h&&(0,d.jsx)("div",{className:"lg:hidden border-t border-gray-200 pb-4",children:(0,d.jsxs)("div",{className:"pt-4 space-y-2",children:[A.map(a=>{let b=a.icon;return(0,d.jsxs)(i(),{href:a.href,className:`flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium ${a.isActive?"bg-care-teal/10 text-care-teal":"text-care-purple hover:text-care-teal hover:bg-care-teal/5"}`,onClick:()=>l(!1),children:[(0,d.jsx)(b,{className:"h-4 w-4"}),a.label]},a.href)}),(0,d.jsx)("hr",{className:"my-2"}),(0,d.jsxs)(j.$,{variant:"ghost",onClick:z,className:"w-full justify-start text-care-purple hover:text-care-teal hover:bg-care-teal/5",children:[(0,d.jsx)(s.A,{className:"h-4 w-4 mr-3"}),"Sair"]})]})})]})}):null};var y=c(93613),z=c(24298);let A=()=>{let[a,b]=(0,e.useState)(!1),[c,g]=(0,e.useState)(5),[h,i]=(0,e.useState)(!1),[k,l]=(0,e.useState)(!1),m=(0,e.useCallback)(()=>{k||(l(!0),b(!1),i(!0),v.oR.success("Servi\xe7o de emerg\xeancia acionado",{description:"Ajuda est\xe1 a caminho. Mantenha a calma."}),console.log("Emergency service activated"))},[k]);return f().useEffect(()=>{let b;return a&&c>0&&!k?b=window.setTimeout(()=>{g(c-1)},1e3):0!==c||k||m(),()=>{clearTimeout(b)}},[a,c,k,m]),f().useEffect(()=>{a||(g(5),l(!1))},[a]),(0,d.jsxs)("div",{className:"fixed bottom-8 right-8 z-50",children:[(0,d.jsx)("button",{onClick:()=>{b(!0)},className:`emergency-button w-20 h-20 md:w-24 md:h-24 flex flex-col items-center justify-center ${h?"bg-green-500":"bg-care-emergency"}`,"aria-label":"Bot\xe3o de emerg\xeancia",children:h?(0,d.jsx)(y.A,{className:"h-10 w-10"}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(p.A,{className:"h-8 w-8 md:h-10 md:w-10"}),(0,d.jsx)("span",{className:"text-sm md:text-base font-bold mt-1",children:"SOS"})]})}),(0,d.jsx)(z.lG,{open:a,onOpenChange:b,children:(0,d.jsxs)(z.Cf,{className:"max-w-md",children:[(0,d.jsxs)(z.c7,{children:[(0,d.jsx)(z.L3,{className:"text-2xl text-care-emergency",children:"Confirmar Emerg\xeancia"}),(0,d.jsxs)(z.rr,{className:"text-senior",children:["Voc\xea est\xe1 prestes a acionar um servi\xe7o de emerg\xeancia.",(0,d.jsxs)("span",{className:"block mt-2 font-bold",children:["Confirma\xe7\xe3o autom\xe1tica em ",c," segundos."]})]})]}),(0,d.jsxs)(z.Es,{className:"flex flex-col sm:flex-row gap-2",children:[(0,d.jsx)(j.$,{onClick:()=>{b(!1),l(!1)},variant:"outline",className:"text-senior",children:"Cancelar"}),(0,d.jsx)(j.$,{onClick:m,className:"bg-care-emergency hover:bg-red-600 text-white",disabled:k,children:"Confirmar Emerg\xeancia"})]})]})})]})},B=({children:a})=>{let b=(0,g.usePathname)(),[c,f]=(0,e.useState)(!1);if((0,e.useEffect)(()=>{f(!0)},[]),!c)return(0,d.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,d.jsx)(l,{}),(0,d.jsx)("main",{className:"flex-1 bg-slate-50",children:a})]});let h=b?.startsWith("/dashboard");return(0,d.jsxs)("div",{className:"flex flex-col min-h-screen",children:[h?(0,d.jsx)(x,{}):(0,d.jsx)(l,{}),(0,d.jsx)("main",{className:"flex-1 bg-slate-50",children:a}),h&&(0,d.jsx)(A,{})]})}},12254:(a,b,c)=>{c.d(b,{A:()=>f});var d=c(60687);c(43210);var e=c(27928);let f=()=>(0,d.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-gradient-to-br from-care-teal to-care-light-teal text-white shadow-md",children:(0,d.jsx)(e.A,{className:"h-6 w-6"})})},23790:(a,b,c)=>{c.d(b,{A:()=>i});var d=c(60687),e=c(43210),f=c(16189),g=c(8826),h=c(52581);let i=({children:a})=>{let b=(0,f.useRouter)(),c=g.DL.isLoggedIn();return((0,e.useEffect)(()=>{c||(h.oR.error("Voc\xea precisa fazer login para acessar esta \xe1rea"),b.push("/login"))},[c,b]),c)?(0,d.jsx)(d.Fragment,{children:a}):null}},24298:(a,b,c)=>{c.d(b,{Cf:()=>m,Es:()=>o,L3:()=>p,c7:()=>n,lG:()=>i,rr:()=>q,zM:()=>j});var d=c(60687),e=c(43210),f=c(86540),g=c(11860),h=c(22857);let i=f.bL,j=f.l9,k=f.ZL;f.bm;let l=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.hJ,{ref:c,className:(0,h.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...b}));l.displayName=f.hJ.displayName;let m=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(k,{children:[(0,d.jsx)(l,{}),(0,d.jsxs)(f.UC,{ref:e,className:(0,h.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...c,children:[b,(0,d.jsxs)(f.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,d.jsx)(g.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=f.UC.displayName;let n=({className:a,...b})=>(0,d.jsx)("div",{className:(0,h.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...b});n.displayName="DialogHeader";let o=({className:a,...b})=>(0,d.jsx)("div",{className:(0,h.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...b});o.displayName="DialogFooter";let p=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.hE,{ref:c,className:(0,h.cn)("text-lg font-semibold leading-none tracking-tight",a),...b}));p.displayName=f.hE.displayName;let q=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.VY,{ref:c,className:(0,h.cn)("text-sm text-muted-foreground",a),...b}));q.displayName=f.VY.displayName}};