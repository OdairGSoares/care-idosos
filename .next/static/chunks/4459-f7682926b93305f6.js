"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4459],{2182:(e,a,s)=>{s.d(a,{A:()=>C});var t=s(5155),r=s(2115),l=s(5695),c=s(6874),n=s.n(c),i=s(8496),o=s(5870);let d=()=>{let e=(0,l.usePathname)();return(0,t.jsx)("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)(n(),{href:"/",className:"flex items-center",children:(0,t.jsx)(o.A,{})})}),(0,t.jsxs)("nav",{className:"hidden md:flex items-center gap-6",children:[(0,t.jsx)(n(),{href:"/",className:"text-sm font-medium transition-colors ".concat("/"===e?"text-care-teal":"text-care-purple hover:text-care-teal"),children:"In\xedcio"}),(0,t.jsx)(n(),{href:"/#sobre",className:"text-sm font-medium text-care-purple hover:text-care-teal transition-colors",children:"Sobre"}),(0,t.jsx)(n(),{href:"/#servicos",className:"text-sm font-medium text-care-purple hover:text-care-teal transition-colors",children:"Servi\xe7os"}),(0,t.jsx)(n(),{href:"/#contato",className:"text-sm font-medium text-care-purple hover:text-care-teal transition-colors",children:"Contato"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(n(),{href:"/login",children:(0,t.jsx)(i.$,{variant:"outline",className:"border-care-teal text-care-teal hover:bg-care-teal/10 ".concat("/login"===e?"bg-care-teal/10":""),children:"Login"})}),(0,t.jsx)(n(),{href:"/signup",children:(0,t.jsx)(i.$,{className:"bg-care-teal hover:bg-care-dark-teal ".concat("/signup"===e?"bg-care-dark-teal":""),children:"Cadastro"})})]})]})})})};var m=s(7340),h=s(215),x=s(9074),u=s(9420),f=s(3861),g=s(1007),p=s(4835),j=s(4416),b=s(4783),N=s(6671),v=s(3464);let w=()=>{let e=(0,l.useRouter)(),a=(0,l.usePathname)(),[s,c]=(0,r.useState)(null),[d,w]=(0,r.useState)(!1),[y,k]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{let a=localStorage.getItem("authToken"),s=localStorage.getItem("userId");if(!a||!s)return e.push("/login");try{k(!0);let e=await v.A.get("/api/users/".concat(s),{headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"}});c({token:a,info:{firstName:e.data.userFirstName}})}catch(a){console.error("Erro ao buscar dados do usu\xe1rio:",a),localStorage.removeItem("authToken"),localStorage.removeItem("userId"),N.oR.error("Sess\xe3o expirada. Por favor, fa\xe7a login novamente."),e.push("/login")}finally{k(!1)}})()},[e]);let A=async()=>{try{localStorage.removeItem("authToken"),localStorage.removeItem("userId"),c(null),N.oR.success("Logout realizado com sucesso!"),setTimeout(()=>{e.push("/"),window.location.href="/"})}catch(a){console.error("Erro durante logout:",a),e.push("/"),window.location.href="/"}},C=[{href:"/dashboard",label:"In\xedcio",icon:m.A,isActive:"/dashboard"===a},{href:"/dashboard/medications",label:"Medicamentos",icon:h.A,isActive:"/dashboard/medications"===a},{href:"/dashboard/appointments",label:"Consultas",icon:x.A,isActive:"/dashboard/appointments"===a},{href:"/dashboard/emergency-contacts",label:"Contatos",icon:u.A,isActive:"/dashboard/emergency-contacts"===a}];return y?(0,t.jsx)("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50 shadow-sm",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(n(),{href:"/dashboard",className:"flex items-center",children:(0,t.jsx)(o.A,{})}),(0,t.jsx)("div",{className:"hidden sm:block",children:(0,t.jsx)("div",{className:"h-4 w-24 bg-gray-200 rounded animate-pulse"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"h-8 w-8 bg-gray-200 rounded animate-pulse"}),(0,t.jsx)("div",{className:"h-8 w-8 bg-gray-200 rounded animate-pulse"}),(0,t.jsx)("div",{className:"h-8 w-16 bg-gray-200 rounded animate-pulse"})]})]})})}):(null==s?void 0:s.token)?(0,t.jsx)("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50 shadow-sm",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(n(),{href:"/dashboard",className:"flex items-center",children:(0,t.jsx)(o.A,{})}),(0,t.jsx)("div",{className:"hidden sm:block",children:(0,t.jsxs)("span",{className:"text-sm text-care-purple",children:["Ol\xe1, ",(0,t.jsx)("span",{className:"font-medium text-care-purple",children:s.info.firstName})]})})]}),(0,t.jsx)("nav",{className:"hidden lg:flex items-center gap-6",children:C.map(e=>{let a=e.icon;return(0,t.jsxs)(n(),{href:e.href,className:"flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ".concat(e.isActive?"bg-care-teal/10 text-care-teal":"text-care-purple hover:text-care-teal hover:bg-care-teal/5"),children:[(0,t.jsx)(a,{className:"h-4 w-4"}),e.label]},e.href)})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n(),{href:"/dashboard/notifications",children:(0,t.jsx)(i.$,{variant:"ghost",size:"icon","aria-label":"Notifica\xe7\xf5es",className:"rounded-full bg-care-purple hover:bg-care-light-purple",children:(0,t.jsx)(f.A,{className:"h-5 w-5 text-white"})})}),(0,t.jsx)(n(),{href:"/dashboard/profile",children:(0,t.jsx)(i.$,{variant:"ghost",size:"icon",className:"rounded-full bg-care-purple hover:bg-care-light-purple","aria-label":"Perfil",children:(0,t.jsx)(g.A,{className:"h-5 w-5 text-white"})})}),(0,t.jsxs)(i.$,{variant:"ghost",onClick:A,className:"hidden sm:flex text-care-purple hover:text-care-light-purple hover:bg-white",children:[(0,t.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Sair"]}),(0,t.jsx)(i.$,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>w(!d),"aria-label":"Menu",children:d?(0,t.jsx)(j.A,{className:"h-5 w-5"}):(0,t.jsx)(b.A,{className:"h-5 w-5"})})]})]}),d&&(0,t.jsx)("div",{className:"lg:hidden border-t border-gray-200 pb-4",children:(0,t.jsxs)("div",{className:"pt-4 space-y-2",children:[C.map(e=>{let a=e.icon;return(0,t.jsxs)(n(),{href:e.href,className:"flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium ".concat(e.isActive?"bg-care-teal/10 text-care-teal":"text-care-purple hover:text-care-teal hover:bg-care-teal/5"),onClick:()=>w(!1),children:[(0,t.jsx)(a,{className:"h-4 w-4"}),e.label]},e.href)}),(0,t.jsx)("hr",{className:"my-2"}),(0,t.jsxs)(i.$,{variant:"ghost",onClick:A,className:"w-full justify-start text-care-purple hover:text-care-teal hover:bg-care-teal/5",children:[(0,t.jsx)(p.A,{className:"h-4 w-4 mr-3"}),"Sair"]})]})})]})}):null};var y=s(5339),k=s(6784);let A=()=>{let[e,a]=(0,r.useState)(!1),[s,l]=(0,r.useState)(5),[c,n]=(0,r.useState)(!1),[o,d]=(0,r.useState)(!1),m=(0,r.useCallback)(()=>{o||(d(!0),a(!1),n(!0),N.oR.success("Servi\xe7o de emerg\xeancia acionado",{description:"Ajuda est\xe1 a caminho. Mantenha a calma."}),console.log("Emergency service activated"))},[o]);return r.useEffect(()=>{let a;return e&&s>0&&!o?a=window.setTimeout(()=>{l(s-1)},1e3):0!==s||o||m(),()=>{clearTimeout(a)}},[e,s,o,m]),r.useEffect(()=>{e||(l(5),d(!1))},[e]),(0,t.jsxs)("div",{className:"fixed bottom-8 right-8 z-50",children:[(0,t.jsx)("button",{onClick:()=>{a(!0)},className:"emergency-button w-20 h-20 md:w-24 md:h-24 flex flex-col items-center justify-center ".concat(c?"bg-green-500":"bg-care-emergency"),"aria-label":"Bot\xe3o de emerg\xeancia",children:c?(0,t.jsx)(y.A,{className:"h-10 w-10"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.A,{className:"h-8 w-8 md:h-10 md:w-10"}),(0,t.jsx)("span",{className:"text-sm md:text-base font-bold mt-1",children:"SOS"})]})}),(0,t.jsx)(k.lG,{open:e,onOpenChange:a,children:(0,t.jsxs)(k.Cf,{className:"max-w-md",children:[(0,t.jsxs)(k.c7,{children:[(0,t.jsx)(k.L3,{className:"text-2xl text-care-emergency",children:"Confirmar Emerg\xeancia"}),(0,t.jsxs)(k.rr,{className:"text-senior",children:["Voc\xea est\xe1 prestes a acionar um servi\xe7o de emerg\xeancia.",(0,t.jsxs)("span",{className:"block mt-2 font-bold",children:["Confirma\xe7\xe3o autom\xe1tica em ",s," segundos."]})]})]}),(0,t.jsxs)(k.Es,{className:"flex flex-col sm:flex-row gap-2",children:[(0,t.jsx)(i.$,{onClick:()=>{a(!1),d(!1)},variant:"outline",className:"text-senior",children:"Cancelar"}),(0,t.jsx)(i.$,{onClick:m,className:"bg-care-emergency hover:bg-red-600 text-white",disabled:o,children:"Confirmar Emerg\xeancia"})]})]})})]})},C=e=>{let{children:a}=e,s=(0,l.usePathname)(),[c,n]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{n(!0)},[]),!c)return(0,t.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,t.jsx)(d,{}),(0,t.jsx)("main",{className:"flex-1 bg-slate-50",children:a})]});let i=null==s?void 0:s.startsWith("/dashboard");return(0,t.jsxs)("div",{className:"flex flex-col min-h-screen",children:[i?(0,t.jsx)(w,{}):(0,t.jsx)(d,{}),(0,t.jsx)("main",{className:"flex-1 bg-slate-50",children:a}),i&&(0,t.jsx)(A,{})]})}},5870:(e,a,s)=>{s.d(a,{A:()=>l});var t=s(5155);s(2115);var r=s(5668);let l=()=>(0,t.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-gradient-to-br from-care-teal to-care-light-teal text-white shadow-md",children:(0,t.jsx)(r.A,{className:"h-6 w-6"})})},6218:(e,a,s)=>{s.d(a,{A:()=>i});var t=s(5155),r=s(2115),l=s(5695),c=s(5302),n=s(6671);let i=e=>{let{children:a}=e,s=(0,l.useRouter)(),i=c.DL.isLoggedIn();return((0,r.useEffect)(()=>{i||(n.oR.error("Voc\xea precisa fazer login para acessar esta \xe1rea"),s.push("/login"))},[i,s]),i)?(0,t.jsx)(t.Fragment,{children:a}):null}},6784:(e,a,s)=>{s.d(a,{Cf:()=>h,Es:()=>u,L3:()=>f,c7:()=>x,lG:()=>i,rr:()=>g,zM:()=>o});var t=s(5155),r=s(2115),l=s(7178),c=s(4416),n=s(4143);let i=l.bL,o=l.l9,d=l.ZL;l.bm;let m=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.hJ,{ref:a,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r})});m.displayName=l.hJ.displayName;let h=r.forwardRef((e,a)=>{let{className:s,children:r,...i}=e;return(0,t.jsxs)(d,{children:[(0,t.jsx)(m,{}),(0,t.jsxs)(l.UC,{ref:a,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...i,children:[r,(0,t.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(c.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});h.displayName=l.UC.displayName;let x=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...s})};x.displayName="DialogHeader";let u=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s})};u.displayName="DialogFooter";let f=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.hE,{ref:a,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",s),...r})});f.displayName=l.hE.displayName;let g=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(l.VY,{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",s),...r})});g.displayName=l.VY.displayName}}]);