(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1654],{3352:(e,t,a)=>{Promise.resolve().then(a.bind(a,5340))},5340:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var r=a(5155),s=a(2182),l=a(6218),c=a(2115),n=a(2338),i=a(8496);let o=(0,a(9946).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var d=a(6874),m=a.n(d);let p=e=>{let{title:t,description:a,icon:s,backLink:l="/dashboard"}=e;return(0,r.jsx)("div",{className:"care-container py-10 flex flex-col items-center",children:(0,r.jsx)(n.Zp,{className:"w-full max-w-md shadow-md",children:(0,r.jsxs)(n.Wu,{className:"flex flex-col items-center text-center py-10",children:[(0,r.jsx)("div",{className:"w-20 h-20 rounded-full bg-care-light-teal text-white flex items-center justify-center mb-6",children:s}),(0,r.jsx)("h1",{className:"text-2xl font-bold mb-2 text-care-purple",children:t}),(0,r.jsx)("p",{className:"text-care-purple mb-6",children:a}),(0,r.jsx)(m(),{href:l,children:(0,r.jsxs)(i.$,{className:"bg-care-teal hover:bg-care-dark-teal text-white",children:[(0,r.jsx)(o,{className:"mr-2 h-5 w-5"}),"Voltar"]})})]})})})};var h=a(3861),x=a(3464);let u=()=>{let[e,t]=(0,c.useState)([]);return(0,c.useEffect)(()=>{!async function(){let e=localStorage.getItem("authToken");if(e)try{let[a,r]=await Promise.all([x.A.get("/api/medications",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}}),x.A.get("/api/appointments",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}})]),s=new Date,l=a.data.filter(e=>{let[t,a]=e.time.split(":"),r=new Date(s);r.setHours(+t,+a,0,0);let l=(r.getTime()-s.getTime())/6e4;return l>=0&&l<=60}).map(e=>'Medicamento "'.concat(e.name,'" agendado para daqui a 1 hora ou menos.')),c=r.data.filter(e=>{try{var t,a;let r,l,c;return(t=e.date,a=e.time,t.includes("/")?[r,l,c]=t.split("/"):[c,l,r]=t.split("-"),new Date("".concat(c,"-").concat(l.padStart(2,"0"),"-").concat(r.padStart(2,"0"),"T").concat(a.padStart(5,"0"),":00"))).getTime()-s.getTime()<=2592e5}catch(e){return!1}}).map(e=>"Consulta marcada para ".concat(e.date," \xe0s ").concat(e.time,".")),n=[...l,...c];t(Array.from(new Set(n)))}catch(e){console.error("Erro ao carregar dados:",e)}}()},[]),(0,r.jsx)("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:0===e.length?(0,r.jsx)(p,{title:"Notifica\xe7\xf5es",description:"Aqui voc\xea poder\xe1 ver suas notifica\xe7\xf5es e alertas importantes.",icon:(0,r.jsx)(h.A,{className:"w-10 h-10"})}):(0,r.jsxs)("div",{className:"p-6 bg-white rounded-lg",children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2 text-care-purple",children:[(0,r.jsx)(h.A,{className:"w-6 h-6"})," Notifica\xe7\xf5es"]}),(0,r.jsx)("ul",{className:"space-y-3",children:e.map((e,t)=>(0,r.jsx)("li",{className:"p-4 bg-purple-50 border border-purple-200 rounded-md shadow-sm text-care-purple",children:e},t))})]})})};function f(){return(0,r.jsx)(l.A,{children:(0,r.jsx)(s.A,{children:(0,r.jsx)(u,{})})})}}},e=>{e.O(0,[9022,6356,8538,408,4459,8441,5964,7358],()=>e(e.s=3352)),_N_E=e.O()}]);